
//: Declare String Begin

/*: "setPassword" :*/
fileprivate let str_capTitle:[Character] = ["s","e","t","P","a","s","s","w","o","r","d"]

/*: "user/appleLogin" :*/
fileprivate let str_equalText:String = "uliveer"
fileprivate let str_textName:[Character] = ["L","o","g","i","n"]

/*: "user/smsLogin" :*/
fileprivate let str_shadowData:[Character] = ["u","s","e","r","/","s","m","s","L"]
fileprivate let str_imageValue:[Character] = ["o","g","i","n"]

/*: "user/emailVcodeLogin" :*/
fileprivate let str_titleMakeData:String = "show harvest var touser/e"
fileprivate let str_himText:[Character] = ["m","a","i","l"]
fileprivate let str_createName:String = "VcodeLgift when"

/*: "user/pwdLogin" :*/
fileprivate let str_modelTitle:[Character] = ["u","s","e","r","/","p","w","d","L","o","g","i","n"]

/*: "user/emailPwdLogin" :*/
fileprivate let str_lineYearTitle:String = "user/ebutton height"
fileprivate let str_logData:String = "dLoginarray height as value"

/*: "+ :*/
fileprivate let str_indicatorSaveName:[Character] = ["+"]

/*: "mobile" :*/
fileprivate let str_mainData:[UInt8] = [0x65,0x6c,0x69,0x62,0x6f,0x6d]

/*: "areaCode" :*/
fileprivate let str_sizeData:[UInt8] = [0x8,0x1b,0xc,0x8,0x2a,0x6,0xd,0xc]

private func equalAnyPath(raw num: UInt8) -> UInt8 {
    return num ^ 105
}

/*: "user/sendLoginSms" :*/
fileprivate let str_errorValue:String = "user/result first var user time"
fileprivate let str_modelValue:String = "Logivoice string"
fileprivate let str_showMenuTitle:String = "from the cookie letnSms"

/*: "RSA加密失败" :*/
fileprivate let str_resultTitle:String = "transaction"
fileprivate let str_layerData:String = "SA\u{52a0}密失败"

/*: "password" :*/
fileprivate let str_centerData:[UInt8] = [0xf5,0xe4,0xf6,0xf6,0xf2,0xea,0xf7,0xe1]

private func leadingReturnSystem(object num: UInt8) -> UInt8 {
    return num ^ 133
}

/*: "vcode" :*/
fileprivate let str_backgroundRowTitle:[UInt8] = [0xfb,0xee,0xe2,0xe9,0xe8]

private func showData(label num: UInt8) -> UInt8 {
    return num ^ 141
}

/*: "user/modifyPassword" :*/
fileprivate let str_requestTitle:String = "center touser/"
fileprivate let str_managerValue:String = "yPtitle view to list"
fileprivate let str_mainLimitValue:String = "asswmodelrd"

/*: "user/sendModifyPwdSms" :*/
fileprivate let str_imageText:String = "equal selfuser/s"
fileprivate let str_toName:String = "match let add makeifyPwdSm"
fileprivate let str_textTitle:[Character] = ["s"]

/*: "user/sendModifyPwdEmail" :*/
fileprivate let str_withData:[Character] = ["u","s","e","r","/","s","e","n","d","M","o","d","i","f","y","P","w","d","E","m","a","i","l"]

/*: "mf/user/getMyInfo" :*/
fileprivate let str_makeText:String = "time like lab makemf/u"
fileprivate let str_regularValue:String = "getMyInfovalue guard"

/*: "invite/bindInviter" :*/
fileprivate let str_subData:String = "inpi"
fileprivate let str_videoName:[Character] = ["i","n","d","I","n","v","i","t","e","r"]

/*: "mf/user/CheckInviteCode" :*/
fileprivate let str_viewDataName:String = "scene keymf/u"
fileprivate let str_progressData:String = "eckInself if else"
fileprivate let str_viewText:String = "ovideoe"

/*: "mf/user/updateInfo" :*/
fileprivate let str_fromValue:[Character] = ["m","f","/","u","s","e","r","/","u","p","d"]
fileprivate let str_cornerData:String = "background return return bring theateInfo"

/*: "p0" :*/
fileprivate let str_refuseValue:String = "equal"

/*: "email" :*/
fileprivate let str_buttonText:[UInt8] = [0xd8,0xd0,0xdc,0xd4,0xd1]

private func resumeCenter(medium num: UInt8) -> UInt8 {
    return num ^ 189
}

/*: "user/getEmailBindVCode" :*/
fileprivate let str_shareData:String = "load background changeuser/g"
fileprivate let str_modeValue:String = "ailBinterval else equal normal"
fileprivate let str_fileValue:String = "Codeself height"

/*: "user/sendLoginEmail" :*/
fileprivate let str_valueReplyBarTitle:String = "viewer"
fileprivate let str_controlPremiumName:String = "LoginEdata register list"

/*: "user/emailBind" :*/
fileprivate let str_textMpTitleName:String = "usdata"
fileprivate let str_trackTitle:String = "lBindself conversation height"

/*: "user/logout" :*/
fileprivate let str_ofValue:String = "user/llabel feed text"
fileprivate let str_becomeValue:String = "OGOUT"

/*: "app/countryList" :*/
fileprivate let str_lessDoingValue:String = "app/cotip user tool"
fileprivate let str_straightData:String = "UN"
fileprivate let str_viewName:String = "tryListframe var progress private"

/*: "user/getMobileBindVCode" :*/
fileprivate let str_iconValue:String = "create self return return letuser/g"
fileprivate let str_photoData:String = "bivisual"
fileprivate let str_valueDigitImageText:String = "text mm voiceVCode"

/*: "user/mobileBind" :*/
fileprivate let str_likeData:[Character] = ["u","s","e","r","/","m","o","b","i"]
fileprivate let str_whiteValue:[Character] = ["l","e","B","i","n","d"]

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  AdministratorReactiveCompatible.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/8/29.
//

//: import UIKit
import UIKit

//: class TalkingLoginRequestTool: NSObject {
class AdministratorReactiveCompatible: NSObject {
    /// 第三方登录请求
    /// - Parameters:
    ///   - type: 登录类型
    ///   - content: 未加密手机号/邮箱
    ///   - params: 参数
    ///   - completion: 回调

    //: class func req_thirdLogin(type: LoginType, content: String = "", params: [String: String], completion: @escaping FinishBlock) {
    class func viewCompletion(type: VersionViewEquatable, content: String = "", params: [String: String], completion: @escaping FinishBlock) {
        //: let reqModel = self.req_thirdLoginModel(type: type, params: params)
        let reqModel = self.move(type: type, params: params)
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: guard succeed == true else {
            guard succeed == true else {
                //: completion(succeed, result, errorModel)
                completion(succeed, result, errorModel)
                //: return
                return
            }
            // 跳转设置密码页
            //: let json = JSON(result ?? [:])
            let json = JSON(result ?? [:])
            //: if json["setPassword"].boolValue == true {
            if json[(String(str_capTitle))].boolValue == true {
                //: completion(succeed, result, errorModel)
                completion(succeed, result, errorModel)
                //: PostPushManager.share.func__pushToSetNewPasswordVC(type: type, content: content, isNewPwd: true)
                PostPushManager.share.dataPwd(type: type, content: content, isNewPwd: true)
                //: return
                return
            }

            // 获取用户信息
            //: TalkingLoginRequestTool.req_LoginUserInfoData(type, completion: completion)
            AdministratorReactiveCompatible.schedule(type, completion: completion)
        }
    }

    /// 第三方登录请求模型
    /// - Parameters:
    ///   - type: 登录类型
    ///   - params: 参数
    /// - Returns: 请求模型
    //: private class func req_thirdLoginModel(type: LoginType, params: [String: String]) -> TalkingRequestModel {
    private class func move(type: VersionViewEquatable, params: [String: String]) -> SafetyMarginReactiveCompatible {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: switch type {
        switch type {
        //: case .AppleLogin:
        case .AppleLogin:
            //: reqModel.requestPath = "user/appleLogin"
            reqModel.requestPath = (str_equalText.replacingOccurrences(of: "live", with: "s") + "/apple" + String(str_textName))
        //: case .PhoneLogin:
        case .PhoneLogin:
            //: reqModel.requestPath = "user/smsLogin"
            reqModel.requestPath = (String(str_shadowData) + String(str_imageValue))
        //: case .EmailLogin:
        case .EmailLogin:
            //: reqModel.requestPath = "user/emailVcodeLogin"
            reqModel.requestPath = (String(str_titleMakeData.suffix(6)) + String(str_himText) + String(str_createName.prefix(6)) + "ogin")
        //: case .PwdPhoneLogin:
        case .PwdPhoneLogin:
            //: reqModel.requestPath = "user/pwdLogin"
            reqModel.requestPath = (String(str_modelTitle))
        //: case .PwdEmailLogin:
        case .PwdEmailLogin:
            //: reqModel.requestPath = "user/emailPwdLogin"
            reqModel.requestPath = (String(str_lineYearTitle.prefix(6)) + "mailPw" + String(str_logData.prefix(6)))
        }
        //: reqModel.params = params
        reqModel.params = params

        //: return reqModel
        return reqModel
    }

    /// 获取验证码
    /// - Parameters:
    ///   - type: 登录类型
    ///   - params: 参数
    ///   - completion: 回调
    //: class func req_getPhoneCode( phoneStr: String, areaStr: String, completion: @escaping FinishBlock) {
    class func gesture(phoneStr: String, areaStr: String, completion: @escaping FinishBlock) {
        //: var reslutStr = ""
        var reslutStr = ""
        //: var reslutCodeStr = ""
        var reslutCodeStr = ""
        //: do {
        do {
            //: let rsa_publicKey = try PublicKey(pemEncoded: LoginRsaPublicKey)
            let rsa_publicKey = try PublicKey(pemEncoded: consLet_videoListValue)
            //: let clear = try ClearMessage(string: phoneStr, using: .utf8)
            let clear = try ClearMessage(string: phoneStr, using: .utf8)
            //: reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            //: reslutCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            reslutCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let params = ["mobile": reslutStr, "areaCode": reslutCodeStr]
            let params = ["mobile": reslutStr, String(bytes: str_sizeData.map{equalAnyPath(raw: $0)}, encoding: .utf8)!: reslutCodeStr]
            //: let reqModel = TalkingRequestModel.init()
            let reqModel = SafetyMarginReactiveCompatible()
            //: reqModel.requestType = .POST
            reqModel.requestType = .POST
            //: reqModel.requestPath = "user/sendLoginSms"
            reqModel.requestPath = (String(str_errorValue.prefix(5)) + "send" + String(str_modelValue.prefix(4)) + String(str_showMenuTitle.suffix(4)))
            //: reqModel.params = params
            reqModel.params = params
            //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
            consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
                //: completion(succeed, result, errorModel)
                completion(succeed, result, errorModel)
            }

            //: } catch {
        } catch {
            //: printLog(message: "RSA加密失败")
            printLog(message: "RSA加密失败")
        }
    }

    /// 密码登录
    /// - Parameters:
    ///   - phoneStr: 手机号登录
    ///   - areaStr: 区号
    ///   - pwd: 密码
    ///   - completion: 回调
    //: class func req_passwordLogin(phoneStr: String, areaStr: String, pwd: String, completion: @escaping FinishBlock) {
    class func methodColor(phoneStr: String, areaStr: String, pwd: String, completion: @escaping FinishBlock) {
        //: var resultPhoneStr = ""
        var resultPhoneStr = ""
        //: var resultCodeStr = ""
        var resultCodeStr = ""
        //: var resultPwdStr = ""
        var resultPwdStr = ""
        //: do {
        do {
            //: let rsa_publicKey = try PublicKey(pemEncoded: LoginRsaPublicKey)
            let rsa_publicKey = try PublicKey(pemEncoded: consLet_videoListValue)
            //: let clear = try ClearMessage(string: phoneStr, using: .utf8)
            let clear = try ClearMessage(string: phoneStr, using: .utf8)
            //: resultPhoneStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            resultPhoneStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            //: resultCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            resultCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let pwdClear = try ClearMessage(string: "\(pwd)", using: .utf8)
            let pwdClear = try ClearMessage(string: "\(pwd)", using: .utf8)
            //: resultPwdStr = try pwdClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            resultPwdStr = try pwdClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let params = ["mobile": resultPhoneStr, "areaCode": resultCodeStr, "password": resultPwdStr]
            let params = ["mobile": resultPhoneStr, String(bytes: str_sizeData.map{equalAnyPath(raw: $0)}, encoding: .utf8)!: resultCodeStr, String(bytes: str_centerData.map{leadingReturnSystem(object: $0)}, encoding: .utf8)!: resultPwdStr]
            //: TalkingLoginRequestTool.req_thirdLogin(type: .PwdPhoneLogin, params: params, completion: completion)
            AdministratorReactiveCompatible.viewCompletion(type: .PwdPhoneLogin, params: params, completion: completion)
            //: } catch {
        } catch {
            //: printLog(message: "RSA加密失败")
            printLog(message: "RSA加密失败")
        }
    }

    /// 修改密码
    /// - Parameters:
    ///   - pwd: 密码
    ///   - vcode: 验证码
    ///   - completion: 回调
    //: class func req_modifyPassword(pwd: String, vcode: String?, completion: @escaping FinishBlock) {
    class func status(pwd: String, vcode: String?, completion: @escaping FinishBlock) {
        //: var resultPwdStr = ""
        var resultPwdStr = ""
        //: do {
        do {
            //: let rsa_publicKey = try PublicKey(pemEncoded: LoginRsaPublicKey)
            let rsa_publicKey = try PublicKey(pemEncoded: consLet_videoListValue)
            //: let pwdClear = try ClearMessage(string: "\(pwd)", using: .utf8)
            let pwdClear = try ClearMessage(string: "\(pwd)", using: .utf8)
            //: resultPwdStr = try pwdClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            resultPwdStr = try pwdClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            //: var params = ["password": resultPwdStr]
            var params = [String(bytes: str_centerData.map{leadingReturnSystem(object: $0)}, encoding: .utf8)!: resultPwdStr]

            //: if vcode?.count ?? 0 > 0 {
            if vcode?.count ?? 0 > 0 {
                //: params["vcode"] = vcode
                params["vcode"] = vcode
            }

            //: let reqModel = TalkingRequestModel()
            let reqModel = SafetyMarginReactiveCompatible()
            //: reqModel.requestType = .POST
            reqModel.requestType = .POST
            //: reqModel.requestPath = "user/modifyPassword"
            reqModel.requestPath = (String(str_requestTitle.suffix(5)) + "modif" + String(str_managerValue.prefix(2)) + str_mainLimitValue.replacingOccurrences(of: "model", with: "o"))
            //: reqModel.params = params
            reqModel.params = params
            //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
            consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
                //: completion(succeed, result, errorModel)
                completion(succeed, result, errorModel)
            }

            //: } catch {
        } catch {
            //: printLog(message: "RSA加密失败")
            printLog(message: "RSA加密失败")
        }
    }

    /// 获取修改【手机号】密码验证码
    /// - Parameter completion: 回调
    //: class func req_sendModifyPwdSms(completion: @escaping FinishBlock) {
    class func with(completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.requestPath = "user/sendModifyPwdSms"
        reqModel.requestPath = (String(str_imageText.suffix(6)) + "endMod" + String(str_toName.suffix(8)) + String(str_textTitle))
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取修改【邮箱】密码验证码
    /// - Parameter completion: 回调
    //: class func req_sendModifyPwdEmail(completion: @escaping FinishBlock) {
    class func componentCompletion(completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.requestPath = "user/sendModifyPwdEmail"
        reqModel.requestPath = (String(str_withData))
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取用户信息接口
    /// - Parameters:
    ///   - type: 登录类型
    ///   - params: 参数
    ///   - completion: 回调
    //: class func req_LoginUserInfoData(_ type: LoginType, completion: FinishBlock? = nil) {
    class func schedule(_ type: VersionViewEquatable, completion: FinishBlock? = nil) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestPath = "mf/user/getMyInfo"
        reqModel.requestPath = (String(str_makeText.suffix(4)) + "ser/" + String(str_regularValue.prefix(9)))
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: guard succeed == true else {
            guard succeed == true else {
                //: completion?(succeed, result, errorModel)
                completion?(succeed, result, errorModel)
                //: return
                return
            }
            //: Defaults.set(result, forKey: TalkingLoginUserInfoCacheKey)
            consLet_partyTitle.set(result, forKey: consLet_keyPartyTitle)
            //: if let userModel = JSONDeserializer<LoginUserModel>.deserializeFrom(dict: result as? Dictionary<String, Any>, designatedPath: nil) {
            if let userModel = JSONDeserializer<DominoUserModel>.deserializeFrom(dict: result as? [String: Any], designatedPath: nil) {
                //: IndexStyleAppManager.share.loginUserMode = userModel
                IndexStyleAppManager.share.loginUserMode = userModel

                // 记录上次登录类型
                //: Defaults.set(type.rawValue, forKey: TalkingLastLoginTypeCacheKey)
                consLet_partyTitle.set(type.rawValue, forKey: consLet_succeedText)
                //: if IndexStyleAppManager.share.loginUserMode.updateInfo == false {
                if IndexStyleAppManager.share.loginUserMode.updateInfo == false { // 需要完善资料
                    //: completion?(false, nil, errorModel)
                    completion?(false, nil, errorModel)
                    //: PostPushManager.share.func__pushToFillUserInfoVC()
                    PostPushManager.share.fromEqual()
                    //: return
                    return
                }

                //: completion?(succeed, result, errorModel)
                completion?(succeed, result, errorModel)
                //: NotificationCenter.default.post(name: DID_LOGIN_SUCCESS_NOTIFICATION, object: nil, userInfo: result as! Dictionary<String, Any>)
                NotificationCenter.default.post(name: consLet_iconText, object: nil, userInfo: result as! [String: Any])

                //: if IndexStyleAppManager.share.loginUserMode.remindBindEmail == true {
                if IndexStyleAppManager.share.loginUserMode.remindBindEmail == true { // 需要绑定邮箱
                    //: DispatchQueue.main.asyncAfter(deadline: .now()+0.5) {
                    DispatchQueue.main.asyncAfter(deadline: .now() + 0.5) {
                        //: PostPushManager.share.func__pushToLockUserEmailVC(isShowBack: false)
                        PostPushManager.share.actuarialTable(isShowBack: false)
                    }
                }
            }
        }
    }

    /// 绑定邀请邀请码
    /// - Parameters:
    ///   - params: 邀请码
    ///   - completion: 回调
    //: class func req_inviteBindInviter(params: [String: String], completion: @escaping FinishBlock) {
    class func anima(params: [String: String], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestPath = "invite/bindInviter"
        reqModel.requestPath = (str_subData.replacingOccurrences(of: "pi", with: "vi") + "te/b" + String(str_videoName))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 检测邀请码
    /// - Parameters:
    ///   - params: 参数
    ///   - completion: 回调
    //: class func req_CheckCodeData(params: [String: String], completion: @escaping FinishBlock) {
    class func noneCheck(params: [String: String], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestPath = "mf/user/CheckInviteCode"
        reqModel.requestPath = (String(str_viewDataName.suffix(4)) + "ser/Ch" + String(str_progressData.prefix(5)) + "viteC" + str_viewText.replacingOccurrences(of: "video", with: "d"))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 更新用户信息
    /// - Parameters:
    ///   - type: 登录类型
    ///   - params: 参数
    ///   - completion: 回调
    //: class func req_updateUserInfo(params: [String: Any], completion: @escaping FinishBlock) {
    class func add(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestPath = "mf/user/updateInfo"
        reqModel.requestPath = (String(str_fromValue) + String(str_cornerData.suffix(7)))
        //: var temparams = params
        var temparams = params
        //: temparams += UIDevice.deviceInfoDic
        temparams += UIDevice.deviceInfoDic
        //: if let poStr = temparams["p0"] {
        if let poStr = temparams["p0"] {
            //: let token = NSDate.getCurrentTimeStamp()
            let token = NSDate.statusJudge()
            //: reqModel.addHeaderToken = token
            reqModel.addHeaderToken = token
            //: let key = token.appending(TokenSaltStr)
            let key = token.appending(consLet_timeData)
            //: temparams["p0"] = (poStr as? String)?.encrypt(withKey: key)
            temparams["p0"] = (poStr as? String)?.equal(for: key)
        }
        //: reqModel.params = temparams
        reqModel.params = temparams
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// Email Code
    /// - Parameters:
    ///   - emailStr: Email
    ///   - emailType: Login or Bind
    //: class func req_getBindEmailCode( emailStr: String, isBind: Bool, completion: @escaping FinishBlock) {
    class func search(emailStr: String, isBind: Bool, completion: @escaping FinishBlock) {
        //: var reslutStr = ""
        var reslutStr = ""
        //: do {
        do {
            //: let rsa_publicKey = try PublicKey(pemEncoded: LoginRsaPublicKey)
            let rsa_publicKey = try PublicKey(pemEncoded: consLet_videoListValue)
            //: let clear = try ClearMessage(string: emailStr, using: .utf8)
            let clear = try ClearMessage(string: emailStr, using: .utf8)
            //: reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            //: let params = ["email": reslutStr]
            let params = ["email": reslutStr]
            //: let reqModel = TalkingRequestModel.init()
            let reqModel = SafetyMarginReactiveCompatible()
            //: reqModel.requestType = .POST
            reqModel.requestType = .POST
            //: if isBind {
            if isBind {
                //: reqModel.requestPath = "user/getEmailBindVCode"
                reqModel.requestPath = (String(str_shareData.suffix(6)) + "etEm" + String(str_modeValue.prefix(4)) + "indV" + String(str_fileValue.prefix(4)))
                //: } else {
            } else {
                //: reqModel.requestPath = "user/sendLoginEmail"
                reqModel.requestPath = (str_valueReplyBarTitle.replacingOccurrences(of: "view", with: "us") + "/send" + String(str_controlPremiumName.prefix(6)) + "mail")
            }
            //: reqModel.params = params
            reqModel.params = params
            //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
            consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
                //: completion(succeed, result, errorModel)
                completion(succeed, result, errorModel)
            }

            //: } catch {
        } catch {
            //: printLog(message: "RSA加密失败")
            printLog(message: "RSA加密失败")
        }
    }

    /// 绑定邮箱验证码
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_bindEmailCode( emailCode: String, completion: @escaping FinishBlock) {
    class func swaddlingClothes(emailCode: String, completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.requestPath = "user/emailBind"
        reqModel.requestPath = (str_textMpTitleName.replacingOccurrences(of: "data", with: "er") + "/emai" + String(str_trackTitle.prefix(5)))
        //: reqModel.params = ["vcode": emailCode]
        reqModel.params = ["vcode": emailCode]
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    //: class func req_passwordEmailLogin(emailStr: String, pwd: String, completion: @escaping FinishBlock) {
    class func buttonDelete(emailStr: String, pwd: String, completion: @escaping FinishBlock) {
        //: var resultEmailStr = ""
        var resultEmailStr = ""
        //: var resultPwdStr = ""
        var resultPwdStr = ""
        //: do {
        do {
            //: let rsa_publicKey = try PublicKey(pemEncoded: LoginRsaPublicKey)
            let rsa_publicKey = try PublicKey(pemEncoded: consLet_videoListValue)
            //: let clear = try ClearMessage(string: emailStr, using: .utf8)
            let clear = try ClearMessage(string: emailStr, using: .utf8)
            //: resultEmailStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            resultEmailStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let pwdClear = try ClearMessage(string: "\(pwd)", using: .utf8)
            let pwdClear = try ClearMessage(string: "\(pwd)", using: .utf8)
            //: resultPwdStr = try pwdClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            resultPwdStr = try pwdClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let params = ["email": resultEmailStr, "password": resultPwdStr]
            let params = ["email": resultEmailStr, String(bytes: str_centerData.map{leadingReturnSystem(object: $0)}, encoding: .utf8)!: resultPwdStr]
            //: TalkingLoginRequestTool.req_thirdLogin(type: .PwdEmailLogin, params: params, completion: completion)
            AdministratorReactiveCompatible.viewCompletion(type: .PwdEmailLogin, params: params, completion: completion)
            //: } catch {
        } catch {
            //: printLog(message: "RSA加密失败")
            printLog(message: "RSA加密失败")
        }
    }

    //: typealias RequestLoginOutBlock = (_ t: Bool) -> Void
    typealias RequestLoginOutBlock = (_ t: Bool) -> Void

    //: @objc class func req_loginOut(completion: @escaping RequestLoginOutBlock) {
    @objc class func information(completion: @escaping RequestLoginOutBlock) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestPath = "user/logout"
        reqModel.requestPath = (String(str_ofValue.prefix(6)) + str_becomeValue.lowercased())
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, _, _ in
            //: completion(succeed)
            completion(succeed)
        }
    }

    //: @objc class func func__requestReloginUserInfo(completion: @escaping RequestLoginOutBlock) {
    @objc class func bit(completion: @escaping RequestLoginOutBlock) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestPath = "mf/user/getMyInfo"
        reqModel.requestPath = (String(str_makeText.suffix(4)) + "ser/" + String(str_regularValue.prefix(9)))
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, _ in
            //: if succeed {
            if succeed {
                //: Defaults.set(result, forKey: TalkingLoginUserInfoCacheKey)
                consLet_partyTitle.set(result, forKey: consLet_keyPartyTitle)
                //: if let userModel = JSONDeserializer<LoginUserModel>.deserializeFrom(dict: result as? Dictionary<String, Any>, designatedPath: nil) {
                if let userModel = JSONDeserializer<DominoUserModel>.deserializeFrom(dict: result as? [String: Any], designatedPath: nil) {
                    //: IndexStyleAppManager.share.loginUserMode = userModel
                    IndexStyleAppManager.share.loginUserMode = userModel
                }
            }
            //: completion(succeed)
            completion(succeed)
        }
    }

    /// 获取允许国家列表
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_countryList( completion: @escaping FinishBlock) {
    class func countryService(completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = SafetyMarginReactiveCompatible()
        //: reqModel.requestPath = "app/countryList"
        reqModel.requestPath = (String(str_lessDoingValue.prefix(6)) + str_straightData.lowercased() + String(str_viewName.prefix(7)))
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 绑定手机号获取验证码
    //: class func req_bindPhoneGetCode( phoneStr: String, areaStr: String, completion: @escaping FinishBlock) {
    class func firstCompletion(phoneStr: String, areaStr: String, completion: @escaping FinishBlock) {
        //: var reslutStr = ""
        var reslutStr = ""
        //: var reslutCodeStr = ""
        var reslutCodeStr = ""
        //: do {
        do {
            //: let rsa_publicKey = try PublicKey(pemEncoded: LoginRsaPublicKey)
            let rsa_publicKey = try PublicKey(pemEncoded: consLet_videoListValue)
            //: let clear = try ClearMessage(string: phoneStr, using: .utf8)
            let clear = try ClearMessage(string: phoneStr, using: .utf8)
            //: reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            //: reslutCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            reslutCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let params = ["mobile": reslutStr, "areaCode": reslutCodeStr]
            let params = ["mobile": reslutStr, String(bytes: str_sizeData.map{equalAnyPath(raw: $0)}, encoding: .utf8)!: reslutCodeStr]
            //: let reqModel = TalkingRequestModel.init()
            let reqModel = SafetyMarginReactiveCompatible()
            //: reqModel.requestType = .POST
            reqModel.requestType = .POST
            //: reqModel.requestPath = "user/getMobileBindVCode"
            reqModel.requestPath = (String(str_iconValue.suffix(6)) + "etMo" + str_photoData.replacingOccurrences(of: "visual", with: "le") + "Bind" + String(str_valueDigitImageText.suffix(5)))
            //: reqModel.params = params
            reqModel.params = params
            //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
            consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
                //: completion(succeed, result, errorModel)
                completion(succeed, result, errorModel)
            }

            //: } catch {
        } catch {
            //: printLog(message: "RSA加密失败")
            printLog(message: "RSA加密失败")
        }
    }

    /// 绑定手机号
    //: class func req_MobileBind(phoneStr: String, areaStr: String, vcode: String, completion: @escaping FinishBlock) {
    class func streetwiseCompletion(phoneStr: String, areaStr: String, vcode: String, completion: @escaping FinishBlock) {
        //: var reslutStr = ""
        var reslutStr = ""
        //: var reslutCodeStr = ""
        var reslutCodeStr = ""
        //: do {
        do {
            //: let rsa_publicKey = try PublicKey(pemEncoded: LoginRsaPublicKey)
            let rsa_publicKey = try PublicKey(pemEncoded: consLet_videoListValue)
            //: let clear = try ClearMessage(string: phoneStr, using: .utf8)
            let clear = try ClearMessage(string: phoneStr, using: .utf8)
            //: reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            reslutStr = try clear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            let codeClear = try ClearMessage(string: "+\(areaStr)", using: .utf8)
            //: reslutCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String
            reslutCodeStr = try codeClear.encrypted(with: rsa_publicKey, padding: .PKCS1).base64String

            //: let params = ["mobile": reslutStr, "areaCode": reslutCodeStr, "vcode": vcode]
            let params = ["mobile": reslutStr, String(bytes: str_sizeData.map{equalAnyPath(raw: $0)}, encoding: .utf8)!: reslutCodeStr, "vcode": vcode]
            //: let reqModel = TalkingRequestModel.init()
            let reqModel = SafetyMarginReactiveCompatible()
            //: reqModel.requestType = .POST
            reqModel.requestType = .POST
            //: reqModel.requestPath = "user/mobileBind"
            reqModel.requestPath = (String(str_likeData) + String(str_whiteValue))
            //: reqModel.params = params
            reqModel.params = params
            //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
            consLet_listTitle.coloring(model: reqModel) { succeed, result, errorModel in
                //: completion(succeed, result, errorModel)
                completion(succeed, result, errorModel)
            }

            //: } catch {
        } catch {
            //: printLog(message: "RSA加密失败")
            printLog(message: "RSA加密失败")
        }
    }
}
